<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <script>
    window.onload = function(){
      document.getElementById("guardar").addEventListener("click", function(e){
        let nombre = document.getElementById("nombre").value.trim();
        let edad = document.getElementById("edad").value.trim();

        // Validación datos
        if (nombre && edad && !isNaN(edad)) {
          // Con fechas
          /*let expiracion = new Date();
          expiracion.setTime(expiracion.getTime() + (5 * 60 * 1000)); // 5 minutos

          // Creamos las cookies codificadas
          // El path es por defecto la ruta de la página actual. Con "/" sería accesible desde todo el sitio web
          document.cookie = `nombre=${encodeURIComponent(nombre)}; expires=${expiracion.toUTCString()}; path=/`;
          document.cookie = `edad=${encodeURIComponent(edad)}; expires=${expiracion.toUTCString()}; path=/`;*/

          // Con max-age
          const VIGENCIA = 5*60; // 5 minutos en segundos 
          document.cookie = `nombre=${encodeURIComponent(nombre)}; max-age=${VIGENCIA}; path=/`;
          document.cookie = `edad=${encodeURIComponent(edad)}; max-age=${VIGENCIA}; path=/`;
		      
          window.location.href = "leer_ejercicio9.html";
          
        } else {
          alert("Por favor, introduce datos válidos.");
        }
      });      
    }    
  </script>
</head>
<body>
  
  <h2>Introduce tus datos</h2>

  <label for="nombre">Nombre:</label>
  <input type="text" id="nombre" placeholder="Tu nombre"><br><br>

  <label for="edad">Edad:</label>
  <input type="number" id="edad" placeholder="Tu edad"><br><br>

  <button id="guardar">Guardar y continuar</button>  
</body>
</html>